(()=>{var u=Object.create;var c=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var g=(e,t,a,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of p(t))!m.call(e,n)&&n!==a&&c(e,n,{get:()=>t[n],enumerable:!(o=h(t,n))||o.enumerable});return e};var x=(e,t,a)=>(a=e!=null?u(b(e)):{},g(t||!e||!e.__esModule?c(a,"default",{value:e,enumerable:!0}):a,e));var s=A((q,l)=>{l.exports=window.wp.i18n});var r=x(s());window.addEventListener("load",()=>{y.init()});var y={init(){document.querySelectorAll('[data-type="cm4all-accordion"]').forEach(t=>{t.querySelectorAll('[data-type="cm4all-accordion-panel"]').forEach(o=>{let n=o.querySelector("button");if(n){let d=n.querySelector("div"),i=o.querySelector('[data-type="cm4all-accordion-header"]');i.setAttribute("aria-label",(0,r.__)("Accordion Header","cm4all-accordion")),i.addEventListener("click",()=>this.handlePanelExpansion(d,i,o,n))}})}),this.checkUrlAndOpenTargetPanel()},handlePanelExpansion(e,t,a,o){let n=a.querySelector('div [data-type="cm4all-accordion-content"]');n.setAttribute("title",(0,r.__)("Accordion Content","cm4all-accordion")),this.toggleContent(n,t,o),this.toggleButton(e)},toggleContent(e,t,a){let o=e.querySelector("section");e.classList.contains("expanded")?(e.classList.remove("expanded"),e.setAttribute("aria-hidden",!0),e.setAttribute("tabindex","-1"),o.setAttribute("tabindex","-1"),t.setAttribute("aria-expanded",!1),a.setAttribute("aria-expanded",!1)):(e.classList.add("expanded"),e.setAttribute("aria-hidden",!1),e.setAttribute("tabindex","0"),o.setAttribute("tabindex","0"),t.setAttribute("aria-expanded",!0),a.setAttribute("aria-expanded",!0))},toggleButton(e){e.classList.contains("rotate")?e.classList.remove("rotate"):e.classList.add("rotate")},handleTransitionEnd(e){let t=e.target.id,a=document.getElementById(`${t}`).closest(".cm4all-accordion-panel").querySelector(".cm4all-accordion-header");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},checkUrlAndOpenTargetPanel(){let e=new URL(window.location.href),t=e.hash.substring(3,e.hash.lastIndexOf("/"));if(t){let a=document.querySelector(`[id="${t}"]`);a!==null&&(a.querySelector(".cm4all-accordion-content").addEventListener("transitionend",this.handleTransitionEnd),a.querySelector(".cm4all-accordion-button").click())}}};})();
